<app-navbar></app-navbar>
<div  *ngIf="isLoading"  class="spinner position-fixed  w-100 h-100 d-flex justify-content-center align-items-center  mt-5 pt-5 bg-white"> <!-- show spinner when loading is true -->
  <app-spinner></app-spinner>
</div>
<div class="dose w-100">
  <div class="container  mt-5 py-5 ">
    <div class=" w-75  m-auto text-center">
      <label for="weight ">Weight in Kg:</label> &nbsp;&nbsp;&nbsp;&nbsp;
      <input type="text" class=" w-50 rounded-3 p-2 border-0 " id="weight" placeholder="Enter weight" [(ngModel)]="userWeight"> <br>

      <label for="age " class="mt-3"> Or select age:</label> &nbsp;&nbsp;&nbsp;&nbsp;
      <input type="text" class=" w-50 rounded-3 p-2 border-0  mt-3" id="age" placeholder="Enter age " [(ngModel)]="userAge">


    </div>
    <input [(ngModel)]="productName" type="text" placeholder="Search trade or generic name " class="w-100 text-center bg-transparent border-0 py-3 mt-3 border-bottom border-primary"
    (input)=" showSearchResults = productName !== '' ">

    <div class="results  w-75  m-auto mt-2 text-center border border-primary"  >
      <a  *ngFor=" let product of allProducts | productDose : productName"
      [routerLink]="['/doseResults',userAge,userWeight , product.id]">
        <div class=" py-3 text-main">
          <h3 class=" m-0">{{product.ProductName}}</h3>
          <p class="  m-0">{{product.composition}} </p>
        </div>
      </a>
    </div>

    <div class="text-center" *ngIf="showSearchResults && (allProducts | productDose: productName).length === 0 ">
      <img class="w-100 " src="../../assets/notFound/undraw_empty_re_opql.svg" height="550" alt="">
    </div>

  </div>
</div>

<app-footer></app-footer>
